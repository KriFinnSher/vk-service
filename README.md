# VK service
Данный репозиторий состоит из двух частей:
1. `task1` - пакет subpub, представляет собой реализацию асинхронной шины событий (Publisher-Subscriber);
2. `task2` - grpc-сервер (см. файл `server.proto`), созданный на основе пакета subpub.

## Необходимые зависимости
- Go (минимум 1.23)
- [Docker](https://docs.docker.com/engine/install/)
- плагин docker-compose

 ## Инструкция по запуску
 1. Скачайте данный репозиторий любым удобным способом, например:
```bash
git clone https://github.com/KriFinnSher/vk-service.git
```
2. Перейдите в корневую директорию проекта и выполните команду по сборке докер-контейнера:
```bash
cd vk-service
docker-compose up --build
```
3. Готово! Сервер будет доступен на порту `:8080`.

## Использование
- Репозиторий покрыт unit- и интеграционными тестами. Для запуска всех тестов выполните следующую команду из корневой директории:
```bash
go test ./...
```
- Для проверки работы grpc-сервера запустите интеграционный тест на проверку основных методов сервера:
```bash
go test task2/tests
```
- Для отслеживания действий на сервере смотрите подробные логи. 

## Используемые паттерны
- graceful shutdown (см. файл. `task2/internal/server.go`)
- dependency injection
